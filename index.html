<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora da Escala de Avaliação da Menopausa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Adiciona Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .card {
            background: white;
            border-radius: 0.5rem;
            border: 1px solid #e2e8f0;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .button {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-weight: 500;
            cursor: pointer;
        }

        .button-primary {
            background-color: #1a365d;
            color: white;
        }

        .button-outline {
            border: 1px solid #e2e8f0;
            background-color: white;
        }

        .radio-group {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 1rem;
            margin: 0.5rem 0;
        }

        .radio-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="container mx-auto py-8">
        <!-- Formulário Principal -->
        <div class="card">
            <h2 class="text-2xl font-bold mb-4">Calculadora da Escala de Avaliação da Menopausa</h2>
            <p class="mb-6">
                A Escala de Avaliação da Menopausa avalia a qualidade de vida e os sintomas do climatério através de 11
                questões. Para cada questão, escolha a opção que melhor descreve sua situação atual.
            </p>
            
            <form id="menopauseForm" onsubmit="calculateResults(event)">
                <div class="space-y-6">
                    <!-- Questão 1 -->
                    <div class="space-y-2">
                        <label class="block font-medium">Falta de ar, suores, calores</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" name="question-0" value="0" id="q0-0" required>
                                <label for="q0-0">0</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-0" value="1" id="q0-1">
                                <label for="q0-1">1</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-0" value="2" id="q0-2">
                                <label for="q0-2">2</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-0" value="3" id="q0-3">
                                <label for="q0-3">3</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-0" value="4" id="q0-4">
                                <label for="q0-4">4</label>
                            </div>
                        </div>
                    </div>

                    <!-- Questão 2 -->
                    <div class="space-y-2">
                        <label class="block font-medium">Mal estar do coração (batidas do coração diferentes, saltos, batidas mais longas, pressão)</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" name="question-1" value="0" id="q1-0" required>
                                <label for="q1-0">0</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-1" value="1" id="q1-1">
                                <label for="q1-1">1</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-1" value="2" id="q1-2">
                                <label for="q1-2">2</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-1" value="3" id="q1-3">
                                <label for="q1-3">3</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-1" value="4" id="q1-4">
                                <label for="q1-4">4</label>
                            </div>
                        </div>
                    </div>

                    <!-- Questão 3 -->
                    <div class="space-y-2">
                        <label class="block font-medium">Problemas de sono (dificuldade em conciliar o sono, em dormir a noite toda e acordar muito cedo)</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" name="question-2" value="0" id="q2-0" required>
                                <label for="q2-0">0</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-2" value="1" id="q2-1">
                                <label for="q2-1">1</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-2" value="2" id="q2-2">
                                <label for="q2-2">2</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-2" value="3" id="q2-3">
                                <label for="q2-3">3</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-2" value="4" id="q2-4">
                                <label for="q2-4">4</label>
                            </div>
                        </div>
                    </div>

                    <!-- Questão 4 -->
                    <div class="space-y-2">
                        <label class="block font-medium">Estado de ânimo depressivo (sentir-se para baixo, triste, a ponto das lágrimas, falta de vontade, mudanças de humor)</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" name="question-3" value="0" id="q3-0" required>
                                <label for="q3-0">0</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-3" value="1" id="q3-1">
                                <label for="q3-1">1</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-3" value="2" id="q3-2">
                                <label for="q3-2">2</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-3" value="3" id="q3-3">
                                <label for="q3-3">3</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-3" value="4" id="q3-4">
                                <label for="q3-4">4</label>
                            </div>
                        </div>
                    </div>

                    <!-- Questão 5 -->
                    <div class="space-y-2">
                        <label class="block font-medium">Irritabilidade (sentir-se nervosa, tensa, agressiva)</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" name="question-4" value="0" id="q4-0" required>
                                <label for="q4-0">0</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-4" value="1" id="q4-1">
                                <label for="q4-1">1</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-4" value="2" id="q4-2">
                                <label for="q4-2">2</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-4" value="3" id="q4-3">
                                <label for="q4-3">3</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-4" value="4" id="q4-4">
                                <label for="q4-4">4</label>
                            </div>
                        </div>
                    </div>

                    <!-- Questão 6 -->
                    <div class="space-y-2">
                        <label class="block font-medium">Ansiedade (inquietação interna)</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" name="question-5" value="0" id="q5-0" required>
                                <label for="q5-0">0</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-5" value="1" id="q5-1">
                                <label for="q5-1">1</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-5" value="2" id="q5-2">
                                <label for="q5-2">2</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-5" value="3" id="q5-3">
                                <label for="q5-3">3</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-5" value="4" id="q5-4">
                                <label for="q5-4">4</label>
                            </div>
                        </div>
                    </div>

                    <!-- Questão 7 -->
                    <div class="space-y-2">
                        <label class="block font-medium">Esgotamento físico e mental (queda geral em seu desempenho, falta de concentração)</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" name="question-6" value="0" id="q6-0" required>
                                <label for="q6-0">0</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-6" value="1" id="q6-1">
                                <label for="q6-1">1</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-6" value="2" id="q6-2">
                                <label for="q6-2">2</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-6" value="3" id="q6-3">
                                <label for="q6-3">3</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-6" value="4" id="q6-4">
                                <label for="q6-4">4</label>
                            </div>
                        </div>
                    </div>

                    <!-- Questão 8 -->
                    <div class="space-y-2">
                        <label class="block font-medium">Problemas sexuais (falta ou mudança sexual na satisfação)</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" name="question-7" value="0" id="q7-0" required>
                                <label for="q7-0">0</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-7" value="1" id="q7-1">
                                <label for="q7-1">1</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-7" value="2" id="q7-2">
                                <label for="q7-2">2</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-7" value="3" id="q7-3">
                                <label for="q7-3">3</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-7" value="4" id="q7-4">
                                <label for="q7-4">4</label>
                            </div>
                        </div>
                    </div>

                    <!-- Questão 9 -->
                    <div class="space-y-2">
                        <label class="block font-medium">Problemas de bexiga (dificuldade de urinar, incontinência, desejo excessivo de urinar)</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" name="question-8" value="0" id="q8-0" required>
                                <label for="q8-0">0</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-8" value="1" id="q8-1">
                                <label for="q8-1">1</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-8" value="2" id="q8-2">
                                <label for="q8-2">2</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-8" value="3" id="q8-3">
                                <label for="q8-3">3</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-8" value="4" id="q8-4">
                                <label for="q8-4">4</label>
                            </div>
                        </div>
                    </div>

                    <!-- Questão 10 -->
                    <div class="space-y-2">
                        <label class="block font-medium">Ressecamento vaginal (sensação de ressecamento, ardência e problemas durante a relação sexual)</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" name="question-9" value="0" id="q9-0" required>
                                <label for="q9-0">0</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-9" value="1" id="q9-1">
                                <label for="q9-1">1</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-9" value="2" id="q9-2">
                                <label for="q9-2">2</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-9" value="3" id="q9-3">
                                <label for="q9-3">3</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-9" value="4" id="q9-4">
                                <label for="q9-4">4</label>
                            </div>
                        </div>
                    </div>

                    <!-- Questão 11 -->
                    <div class="space-y-2">
                        <label class="block font-medium">Problemas musculares e nas articulações (dores reumáticas e nas articulações)</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" name="question-10" value="0" id="q10-0" required>
                                <label for="q10-0">0</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-10" value="1" id="q10-1">
                                <label for="q10-1">1</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-10" value="2" id="q10-2">
                                <label for="q10-2">2</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-10" value="3" id="q10-3">
                                <label for="q10-3">3</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="question-10" value="4" id="q10-4">
                                <label for="q10-4">4</label>
                            </div>
                        </div>
                    </div>

                    <div class="mt-6 flex justify-between">
                        <button type="button" class="button button-outline" onclick="resetForm()">Refazer Teste</button>
                        <button type="submit" class="button button-primary">Calcular</button>
                    </div>
                </div>
            </form>
        </div>

        <!-- Seção de Resultados -->
        <div class="card">
            <h3 class="text-xl font-bold mb-4">Resultados</h3>
            
            <!-- Área do Gráfico -->
            <div style="height: 400px" class="mb-6">
                <canvas></canvas>
            </div>

            <!-- Cards de Resultados -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="p-4 rounded-lg bg-red-100">
                    <h4 class="font-semibold">Sintomas somáticos</h4>
                    <p class="text-2xl">0</p>
                    <p class="text-green-600">assintomáticos ou escassos</p>
                </div>
                
                <div class="p-4 rounded-lg bg-blue-100">
                    <h4 class="font-semibold">Sintomas psicológicos</h4>
                    <p class="text-2xl">0</p>
                    <p class="text-green-600">assintomáticos ou escassos</p>
                </div>
                
                <div class="p-4 rounded-lg bg-teal-100">
                    <h4 class="font-semibold">Sintomas urogenitais</h4>
                    <p class="text-2xl">0</p>
                    <p class="text-green-600">assintomáticos ou escassos</p>
                </div>
            </div>

            <!-- Análises Detalhadas -->
            <div class="space-y-4 text-sm mt-6">
                <div class="p-4 border rounded-lg">
                    <h4 class="font-semibold mb-2">Análise dos Sintomas Somato-vegetativos:</h4>
                    <p>Seus sintomas somáticos são classificados como <span class="text-green-600">assintomáticos ou escassos</span>.</p>
                    <p class="mt-2 text-gray-600">
                        Classificação:<br>
                        - Assintomáticos ou escassos: 2 pontos ou menos<br>
                        - Leves: 3 a 4 pontos<br>
                        - Moderados: 5 a 8 pontos<br>
                        - Severos: mais de 9 pontos
                    </p>
                </div>

                <div class="p-4 border rounded-lg">
                    <h4 class="font-semibold mb-2">Análise dos Sintomas Psicológicos:</h4>
                    <p>Seus sintomas psicológicos são classificados como <span class="text-green-600">assintomáticos ou escassos</span>.</p>
                    <p class="mt-2 text-gray-600">
                        Classificação:<br>
                        - Assintomáticos ou escassos: 1 ponto ou menos<br>
                        - Leves: 2 a 3 pontos<br>
                        - Moderados: 4 a 6 pontos<br>
                        - Severos: mais de 7 pontos
                    </p>
                </div>

                <div class="p-4 border rounded-lg">
                    <h4 class="font-semibold mb-2">Análise dos Sintomas Urogenitais:</h4>
                    <p>Seus sintomas urogenitais são classificados como <span class="text-green-600">assintomáticos ou escassos</span>.</p>
                    <p class="mt-2 text-gray-600">
                        Classificação:<br>
                        - Assintomáticos ou escassos: 0 pontos<br>
                        - Leves: 1 ponto<br>
                        - Moderados: 2 a 3 pontos<br>
                        - Severos: 4 pontos ou mais
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Referência para o gráfico
        let myChart = null;

        // Função para calcular os resultados
        function calculateResults(event) {
            event.preventDefault();

            // Arrays com os índices das questões para cada categoria
            const somaticQuestions = [0, 1, 2];
            const psychologicalQuestions = [3, 4, 5, 6];
            const urogenitalQuestions = [7, 8, 9, 10];

            // Função auxiliar para somar os scores de um grupo de questões
            function calculateGroupScore(questionIndices) {
                return questionIndices.reduce((total, index) => {
                    const selectedRadio = document.querySelector(`input[name="question-${index}"]:checked`);
                    return total + (selectedRadio ? parseInt(selectedRadio.value) : 0);
                }, 0);
            }

            // Calcula os scores
            const somaticScore = calculateGroupScore(somaticQuestions);
            const psychologicalScore = calculateGroupScore(psychologicalQuestions);
            const urogenitalScore = calculateGroupScore(urogenitalQuestions);

            // Atualiza os resultados na interface
            updateResults({
                somatic: somaticScore,
                psychological: psychologicalScore,
                urogenital: urogenitalScore
            });

            // Rola a página para a seção de resultados
            document.querySelector('.card:nth-child(2)').scrollIntoView({ behavior: 'smooth' });
        }

        // Função para analisar sintomas somáticos
        function analyzeSomaticSymptoms(score) {
            if (score <= 2) return { level: "assintomáticos ou escassos", class: "text-green-600" };
            if (score <= 4) return { level: "leves", class: "text-yellow-600" };
            if (score <= 8) return { level: "moderados", class: "text-orange-600" };
            return { level: "severos", class: "text-red-600" };
        }

        // Função para analisar sintomas psicológicos
        function analyzePsychologicalSymptoms(score) {
            if (score <= 1) return { level: "assintomáticos ou escassos", class: "text-green-600" };
            if (score <= 3) return { level: "leves", class: "text-yellow-600" };
            if (score <= 6) return { level: "moderados", class: "text-orange-600" };
            return { level: "severos", class: "text-red-600" };
        }

        // Função para analisar sintomas urogenitais
        function analyzeUrogenitalSymptoms(score) {
            if (score === 0) return { level: "assintomáticos ou escassos", class: "text-green-600" };
            if (score === 1) return { level: "leves", class: "text-yellow-600" };
            if (score <= 3) return { level: "moderados", class: "text-orange-600" };
            return { level: "severos", class: "text-red-600" };
        }

        // Função para atualizar os resultados na interface
        function updateResults(results) {
            // Atualiza os scores e classificações
            const somaticAnalysis = analyzeSomaticSymptoms(results.somatic);
            const psychologicalAnalysis = analyzePsychologicalSymptoms(results.psychological);
            const urogenitalAnalysis = analyzeUrogenitalSymptoms(results.urogenital);

            // Atualiza os cards de resultado
            document.querySelector('.bg-red-100 .text-2xl').textContent = results.somatic;
            document.querySelector('.bg-red-100 p:last-child').textContent = somaticAnalysis.level;
            document.querySelector('.bg-red-100 p:last-child').className = somaticAnalysis.class;

            document.querySelector('.bg-blue-100 .text-2xl').textContent = results.psychological;
            document.querySelector('.bg-blue-100 p:last-child').textContent = psychologicalAnalysis.level;
            document.querySelector('.bg-blue-100 p:last-child').className = psychologicalAnalysis.class;

            document.querySelector('.bg-teal-100 .text-2xl').textContent = results.urogenital;
            document.querySelector('.bg-teal-100 p:last-child').textContent = urogenitalAnalysis.level;
            document.querySelector('.bg-teal-100 p:last-child').className = urogenitalAnalysis.class;

            // Atualiza as análises detalhadas
            const analysisElements = document.querySelectorAll('.p-4.border.rounded-lg');
            
            // Análise Somática
            analysisElements[0].querySelector('span').textContent = somaticAnalysis.level;
            analysisElements[0].querySelector('span').className = somaticAnalysis.class;

            // Análise Psicológica
            analysisElements[1].querySelector('span').textContent = psychologicalAnalysis.level;
            analysisElements[1].querySelector('span').className = psychologicalAnalysis.class;

            // Análise Urogenital
            analysisElements[2].querySelector('span').textContent = urogenitalAnalysis.level;
            analysisElements[2].querySelector('span').className = urogenitalAnalysis.class;

            // Atualiza o gráfico
            updateChart(results);
        }

        // Função para atualizar o gráfico
        function updateChart(results) {
            // Destrói o gráfico anterior se existir
            if (myChart) {
                myChart.destroy();
            }

            // Cria o novo gráfico
            const ctx = document.querySelector('[style="height: 400px"] canvas').getContext('2d');
            myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Sintomas somáticos', 'Sintomas psicológicos', 'Sintomas urogenitais'],
                    datasets: [{
                        label: 'Pontuação',
                        data: [results.somatic, results.psychological, results.urogenital],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.5)',
                            'rgba(54, 162, 235, 0.5)',
                            'rgba(75, 192, 192, 0.5)'
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(75, 192, 192, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 12
                        }
                    }
                }
            });
        }

        // Função para resetar o formulário
        function resetForm() {
            document.getElementById('menopauseForm').reset();
            
            // Reseta os resultados para zero
            updateResults({
                somatic: 0,
                psychological: 0,
                urogenital: 0
            });

            // Rola a página para o topo
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Inicializa o gráfico quando a página carrega
        document.addEventListener('load', function() {
            // Inicializa o gráfico com valores zerados
            updateResults({
                somatic: 0,
                psychological: 0,
                urogenital: 0
            });
        });
    </script>
</body>
</html>
